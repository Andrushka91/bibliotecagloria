{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar instance = axios.create({\n  baseURL: 'http://de1a-2a0c-5a81-8304-6400-a52e-95fd-e0a0-51f6.ngrok.io'\n});\ninstance.interceptors.request.use(function _callee(config) {\n  var token;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));\n\n        case 2:\n          token = _context.sent;\n\n          if (token) {\n            config.headers.Authorization = \"Bearer \" + token;\n          }\n\n          return _context.abrupt(\"return\", config);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}, function (err) {\n  return Promise.reject(err);\n});\nexport default instance;","map":{"version":3,"names":["axios","AsyncStorage","instance","create","baseURL","interceptors","request","use","config","getItem","token","headers","Authorization","err","Promise","reject"],"sources":["E:/PROGRAMMING/REACT_NATIVE/biblioteca/src/api/books.js"],"sourcesContent":["import axios from 'axios'\nimport AsyncStorage from '@react-native-async-storage/async-storage'\n\nconst instance = axios.create({\n  baseURL: 'http://de1a-2a0c-5a81-8304-6400-a52e-95fd-e0a0-51f6.ngrok.io'\n})\n\ninstance.interceptors.request.use(\n  async (config) => {\n    const token = await AsyncStorage.getItem('token')\n    if(token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n\n    return config\n  },\n  (err) => {\n    return Promise.reject(err)\n  }\n)\n\nexport default instance"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AAEA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;EAC5BC,OAAO,EAAE;AADmB,CAAb,CAAjB;AAIAF,QAAQ,CAACG,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACE,iBAAOC,MAAP;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA,iCACsBP,YAAY,CAACQ,OAAb,CAAqB,OAArB,CADtB;;QAAA;UACQC,KADR;;UAEE,IAAGA,KAAH,EAAU;YACRF,MAAM,CAACG,OAAP,CAAeC,aAAf,eAAyCF,KAAzC;UACD;;UAJH,iCAMSF,MANT;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CADF,EASE,UAACK,GAAD,EAAS;EACP,OAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAXH;AAcA,eAAeX,QAAf"},"metadata":{},"sourceType":"module"}