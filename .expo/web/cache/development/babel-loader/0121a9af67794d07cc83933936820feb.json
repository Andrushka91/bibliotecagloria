{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport createDataContext from \"./createDataContext\";\nimport booksApi from \"../api/books\";\n\nvar bookReducer = function bookReducer(state, action) {\n  switch (action.type) {\n    case 'fetch_books':\n      return action.payload;\n\n    case 'search_book':\n      return action.payload;\n\n    case 'empty_cart':\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nvar searchBook = function searchBook(dispatch) {\n  return function _callee(title) {\n    var res;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(booksApi.get('/search', {\n              params: title\n            }));\n\n          case 2:\n            res = _context.sent;\n            dispatch({\n              type: 'search_book',\n              payload: res.data\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar fetchBooks = function fetchBooks(dispatch) {\n  return function _callee2() {\n    var res;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(booksApi.get('/books'));\n\n          case 2:\n            res = _context2.sent;\n            dispatch({\n              type: 'fetch_books',\n              payload: res.data\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar addBook = function addBook(dispatch) {\n  return function _callee3(name) {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(booksApi.post('/book', {\n              name: name\n            }));\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar _createDataContext = createDataContext(bookReducer, {\n  addBook: addBook,\n  fetchBooks: fetchBooks,\n  searchBook: searchBook\n}, []),\n    Provider = _createDataContext.Provider,\n    Context = _createDataContext.Context;\n\nexport { Provider, Context };","map":{"version":3,"names":["createDataContext","booksApi","bookReducer","state","action","type","payload","searchBook","dispatch","title","get","params","res","data","fetchBooks","addBook","name","post","Provider","Context"],"sources":["E:/PROGRAMMING/REACT_NATIVE/biblioteca/src/context/BooksContext.js"],"sourcesContent":["import createDataContext from './createDataContext'\nimport booksApi from '../api/books'\n\nconst bookReducer = (state, action) => {\n  switch (action.type) {\n    case 'fetch_books':\n      return action.payload\n    case 'search_book':\n      return action.payload\n    case 'empty_cart':\n      return action.payload\n    default:\n      return state\n  }\n}\nconst searchBook = dispatch => async (title) => {\n  const res = await booksApi.get('/search', { params: title })\n  dispatch({ type: 'search_book', payload: res.data })\n}\n\nconst fetchBooks = dispatch => async () => {\n  const res = await booksApi.get('/books')\n  dispatch({ type: 'fetch_books', payload: res.data })\n}\n\nconst addBook = dispatch => async (name) => {\n  await booksApi.post('/book', { name })\n}\n\nexport const { Provider, Context } = createDataContext(\n  bookReducer,\n  { addBook, fetchBooks, searchBook },\n  []\n)"],"mappings":";AAAA,OAAOA,iBAAP;AACA,OAAOC,QAAP;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,MAAR,EAAmB;EACrC,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,aAAL;MACE,OAAOD,MAAM,CAACE,OAAd;;IACF,KAAK,aAAL;MACE,OAAOF,MAAM,CAACE,OAAd;;IACF,KAAK,YAAL;MACE,OAAOF,MAAM,CAACE,OAAd;;IACF;MACE,OAAOH,KAAP;EARJ;AAUD,CAXD;;AAYA,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAAAC,QAAQ;EAAA,OAAI,iBAAOC,KAAP;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACXR,QAAQ,CAACS,GAAT,CAAa,SAAb,EAAwB;cAAEC,MAAM,EAAEF;YAAV,CAAxB,CADW;;UAAA;YACvBG,GADuB;YAE7BJ,QAAQ,CAAC;cAAEH,IAAI,EAAE,aAAR;cAAuBC,OAAO,EAAEM,GAAG,CAACC;YAApC,CAAD,CAAR;;UAF6B;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAJ;AAAA,CAA3B;;AAKA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAN,QAAQ;EAAA,OAAI;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACXP,QAAQ,CAACS,GAAT,CAAa,QAAb,CADW;;UAAA;YACvBE,GADuB;YAE7BJ,QAAQ,CAAC;cAAEH,IAAI,EAAE,aAAR;cAAuBC,OAAO,EAAEM,GAAG,CAACC;YAApC,CAAD,CAAR;;UAF6B;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAJ;AAAA,CAA3B;;AAKA,IAAME,OAAO,GAAG,SAAVA,OAAU,CAAAP,QAAQ;EAAA,OAAI,kBAAOQ,IAAP;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACpBf,QAAQ,CAACgB,IAAT,CAAc,OAAd,EAAuB;cAAED,IAAI,EAAJA;YAAF,CAAvB,CADoB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAJ;AAAA,CAAxB;;AAIO,yBAA8BhB,iBAAiB,CACpDE,WADoD,EAEpD;EAAEa,OAAO,EAAPA,OAAF;EAAWD,UAAU,EAAVA,UAAX;EAAuBP,UAAU,EAAVA;AAAvB,CAFoD,EAGpD,EAHoD,CAA/C;AAAA,IAAQW,QAAR,sBAAQA,QAAR;AAAA,IAAkBC,OAAlB,sBAAkBA,OAAlB"},"metadata":{},"sourceType":"module"}