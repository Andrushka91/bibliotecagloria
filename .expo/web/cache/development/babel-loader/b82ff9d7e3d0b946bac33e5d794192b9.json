{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar instance = axios.create({\n  baseURL: 'http://196b-2a0c-5a81-8304-6400-99c2-2965-fde0-aba8.ngrok.io'\n});\ninstance.interceptors.request.use(function _callee(config) {\n  var token;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));\n\n        case 2:\n          token = _context.sent;\n\n          if (token) {\n            config.headers.Authorization = \"Bearer \" + token;\n          }\n\n          return _context.abrupt(\"return\", config);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}, function (err) {\n  return Promise.reject(err);\n});\nexport default instance;","map":{"version":3,"names":["axios","AsyncStorage","instance","create","baseURL","interceptors","request","use","config","getItem","token","headers","Authorization","err","Promise","reject"],"sources":["E:/PROGRAMMING/REACT_NATIVE/biblioteca/src/api/books.js"],"sourcesContent":["import axios from 'axios'\r\nimport AsyncStorage from '@react-native-async-storage/async-storage'\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'http://196b-2a0c-5a81-8304-6400-99c2-2965-fde0-aba8.ngrok.io'\r\n})\r\n\r\ninstance.interceptors.request.use(\r\n  async (config) => {\r\n    const token = await AsyncStorage.getItem('token')\r\n    if(token) {\r\n      config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  (err) => {\r\n    return Promise.reject(err)\r\n  }\r\n)\r\n\r\nexport default instance"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AAEA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;EAC5BC,OAAO,EAAE;AADmB,CAAb,CAAjB;AAIAF,QAAQ,CAACG,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACE,iBAAOC,MAAP;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA,iCACsBP,YAAY,CAACQ,OAAb,CAAqB,OAArB,CADtB;;QAAA;UACQC,KADR;;UAEE,IAAGA,KAAH,EAAU;YACRF,MAAM,CAACG,OAAP,CAAeC,aAAf,eAAyCF,KAAzC;UACD;;UAJH,iCAKSF,MALT;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CADF,EAQE,UAACK,GAAD,EAAS;EACP,OAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAVH;AAaA,eAAeX,QAAf"},"metadata":{},"sourceType":"module"}