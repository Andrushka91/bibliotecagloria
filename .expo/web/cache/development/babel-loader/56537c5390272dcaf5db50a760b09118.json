{"ast":null,"code":"var _this = this;\n\nimport { AntDesign } from '@expo/vector-icons';\nimport { useContext } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { withNavigation } from \"react-navigation\";\nimport Counter from \"react-native-counters\";\nimport { Icon } from 'react-native-elements';\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { COLORS } from \"../../consts/colors\";\nimport { Context as BooksContext } from \"../../context/BooksContext\";\nimport { Context as CartContext } from \"../../context/CartContext\";\nimport styles from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar BookDetailScreen = function BookDetailScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useContext = useContext(BooksContext),\n      state = _useContext.state;\n\n  var _useContext2 = useContext(CartContext),\n      addItemToCart = _useContext2.addItemToCart;\n\n  function addBookAndUpdateList(book) {\n    addItemToCart(book);\n  }\n\n  var _id = route.params._id;\n  var book = state.find(function (t) {\n    return t._id === _id;\n  });\n  var initialPrice = book.price;\n\n  function changeQuantity(number, type) {\n    console.log(\"book.INITIAL-quantity\", book.quantity);\n\n    if (type === '-') {\n      book.quantity -= 1;\n      book.price = book.price - initialPrice;\n    } else if (type === '+') {\n      book.quantity += 1;\n      book.price = book.price + initialPrice;\n    }\n  }\n\n  var minusIcon = function minusIcon(isDisabled) {\n    return _jsx(AntDesign, {\n      name: \"minuscircleo\",\n      size: 24,\n      color: \"black\"\n    });\n  };\n\n  var plusIcon = function plusIcon(isPlusDisabled) {\n    return _jsx(AntDesign, {\n      name: \"pluscircle\",\n      size: 24,\n      color: \"black\"\n    });\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: {\n      flex: 1,\n      backgroundColor: COLORS.white\n    },\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Icon, {\n        name: \"arrow-back\",\n        size: 28,\n        onPress: function onPress() {\n          return navigation.goBack();\n        }\n      }), _jsx(Icon, {\n        name: \"shopping-cart\",\n        size: 28,\n        onPress: function onPress() {\n          return navigation.navigate('CartScreen');\n        }\n      })]\n    }), _jsx(View, {\n      style: styles.imageContainer,\n      children: _jsx(Image, {\n        source: {\n          uri: 'data:image/jpg;base64,' + book.image.data\n        },\n        style: {\n          resizeMode: 'contain',\n          flex: 1,\n          width: 400\n        }\n      })\n    }), _jsxs(View, {\n      style: styles.detailsContainer,\n      children: [_jsx(View, {\n        style: {\n          marginLeft: 20,\n          flexDirection: 'row',\n          alignItems: 'flex-end'\n        }\n      }), _jsxs(View, {\n        style: {\n          marginLeft: 20,\n          marginTop: 5,\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 22,\n            fontWeight: 'bold'\n          },\n          children: book.title\n        }), _jsx(View, {\n          style: styles.priceTag,\n          children: _jsxs(Text, {\n            style: {\n              marginLeft: 15,\n              color: COLORS.white,\n              fontFamily: 'AllerLight',\n              fontSize: 18\n            },\n            children: [\"\\u20AC\", book.price]\n          })\n        })]\n      }), _jsxs(View, {\n        style: {\n          paddingHorizontal: 20,\n          marginTop: 10\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: 'bold'\n          },\n          children: \"Descriere\"\n        }), _jsx(Text, {\n          style: {\n            color: 'grey',\n            fontSize: 16,\n            lineHeight: 22,\n            marginTop: 10\n          },\n          children: book.description\n        })]\n      }), _jsx(View, {\n        style: {\n          flex: 1,\n          justifyContent: 'flex-end',\n          marginBottom: 20,\n          paddingHorizontal: 20\n        },\n        children: _jsxs(View, {\n          style: {\n            marginTop: 20,\n            flexDirection: 'row',\n            justifyContent: 'space-between'\n          },\n          children: [_jsx(View, {\n            style: {\n              flexDirection: 'row',\n              alignItems: 'center'\n            },\n            children: _jsx(Counter, {\n              start: 1,\n              minusIcon: minusIcon,\n              plusIcon: plusIcon,\n              countTextStyle: {\n                color: COLORS.purple\n              },\n              buttonStyle: {\n                borderColor: 'transparent'\n              },\n              onChange: changeQuantity.bind(_this),\n              min: 1\n            })\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return addBookAndUpdateList(book);\n            },\n            children: _jsx(View, {\n              style: styles.buyBtn,\n              children: _jsx(Text, {\n                style: {\n                  color: COLORS.white,\n                  fontSize: 18,\n                  fontFamily: 'AllerLight'\n                },\n                children: \"Adaug\\u0103 \\xEEn co\\u0219\"\n              })\n            })\n          })]\n        })\n      })]\n    })]\n  });\n};\n\nexport default withNavigation(BookDetailScreen);","map":{"version":3,"names":["AntDesign","useContext","SafeAreaView","withNavigation","Counter","Icon","TouchableOpacity","COLORS","Context","BooksContext","CartContext","styles","BookDetailScreen","route","navigation","state","addItemToCart","addBookAndUpdateList","book","_id","params","find","t","initialPrice","price","changeQuantity","number","type","console","log","quantity","minusIcon","isDisabled","plusIcon","isPlusDisabled","flex","backgroundColor","white","header","goBack","navigate","imageContainer","uri","image","data","resizeMode","width","detailsContainer","marginLeft","flexDirection","alignItems","marginTop","justifyContent","fontSize","fontWeight","title","priceTag","color","fontFamily","paddingHorizontal","lineHeight","description","marginBottom","purple","borderColor","bind","buyBtn"],"sources":["E:/PROGRAMMING/REACT_NATIVE/biblioteca/src/screens/BookDetailScreen/BookDetailScreen.js"],"sourcesContent":["import { AntDesign } from '@expo/vector-icons';\r\nimport { useContext } from \"react\";\r\nimport { Image, Text, View } from \"react-native\";\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { withNavigation } from \"react-navigation\";\r\nimport Counter from \"react-native-counters\";\r\nimport { Icon } from 'react-native-elements';\r\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\r\nimport { COLORS } from \"../../consts/colors\";\r\nimport { Context as BooksContext } from '../../context/BooksContext';\r\nimport { Context as CartContext } from '../../context/CartContext';\r\nimport styles from './styles';\r\n\r\nconst BookDetailScreen = ({ route, navigation }) => {\r\n  const { state } = useContext(BooksContext);\r\n  const { addItemToCart } = useContext(CartContext);\r\n\r\n  function addBookAndUpdateList(book) {\r\n    addItemToCart(book);\r\n  }\r\n\r\n  const _id = route.params._id\r\n  const book = state.find((t) => t._id === _id)\r\n  const initialPrice = book.price;\r\n\r\n  function changeQuantity(number, type) {\r\n    console.log(\"book.INITIAL-quantity\", book.quantity)\r\n    if (type === '-') {\r\n      book.quantity -= 1;\r\n      book.price = book.price - initialPrice;\r\n    } else if (type === '+') {\r\n      book.quantity += 1;\r\n      book.price = book.price + initialPrice;\r\n    }\r\n  }\r\n  const minusIcon = (isDisabled) => {\r\n    return <AntDesign name=\"minuscircleo\" size={24} color=\"black\" />\r\n  };\r\n\r\n  const plusIcon = (isPlusDisabled) => {\r\n    return <AntDesign name=\"pluscircle\" size={24} color=\"black\" />\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1, backgroundColor: COLORS.white }} >\r\n      <View style={styles.header}>\r\n        <Icon name=\"arrow-back\" size={28} onPress={() => navigation.goBack()} />\r\n        <Icon name=\"shopping-cart\" size={28} onPress={() => navigation.navigate('CartScreen')} />\r\n      </View>\r\n      <View style={styles.imageContainer}>\r\n        <Image source={{ uri: 'data:image/jpg;base64,' + book.image.data }} style={{ resizeMode: 'contain', flex: 1, width: 400 }} />\r\n      </View>\r\n      <View style={styles.detailsContainer}>\r\n        <View\r\n          style={{\r\n            marginLeft: 20,\r\n            flexDirection: 'row',\r\n            alignItems: 'flex-end'\r\n          }}>\r\n\r\n        </View>\r\n        <View style={{ marginLeft: 20, marginTop: 5, flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <Text style={{ fontSize: 22, fontWeight: 'bold' }}>\r\n            {book.title}\r\n          </Text>\r\n          <View style={styles.priceTag}>\r\n            <Text style={{ marginLeft: 15, color: COLORS.white, fontFamily: 'AllerLight', fontSize: 18 }}>€{book.price}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ paddingHorizontal: 20, marginTop: 10 }}>\r\n          <Text style={{ fontSize: 20, fontWeight: 'bold' }}>\r\n            Descriere\r\n          </Text>\r\n          <Text style={{ color: 'grey', fontSize: 16, lineHeight: 22, marginTop: 10 }}>\r\n            {book.description}\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={{ flex: 1, justifyContent: 'flex-end', marginBottom: 20, paddingHorizontal: 20 }}>\r\n          <View style={{ marginTop: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <Counter start={1} minusIcon={minusIcon} plusIcon={plusIcon} countTextStyle={{ color: COLORS.purple }}\r\n                buttonStyle={{ borderColor: 'transparent' }} onChange={changeQuantity.bind(this)} min={1} />\r\n            </View>\r\n            <TouchableOpacity onPress={() => addBookAndUpdateList(book)}>\r\n              <View style={styles.buyBtn}>\r\n                <Text style={{ color: COLORS.white, fontSize: 18, fontFamily: 'AllerLight' }}>Adaugă în coș</Text>\r\n              </View>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default withNavigation(BookDetailScreen);"],"mappings":"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"},"metadata":{},"sourceType":"module"}