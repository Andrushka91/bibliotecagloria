{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { FontAwesome } from '@expo/vector-icons';\nimport React, { useContext, useEffect, useState } from 'react';\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Icon } from 'react-native-elements';\nimport { TextInput, TouchableOpacity } from 'react-native-gesture-handler';\nimport { withNavigation } from \"react-navigation\";\nimport Card from \"../../components/Card/Card\";\nimport { COLORS } from \"../../consts/colors\";\nimport { Context as BooksContext } from \"../../context/BooksContext\";\nimport styles from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar width = Dimensions.get('screen').width / 2 - 30;\n\nvar BooksListScreen = function BooksListScreen(_ref) {\n  var navigation = _ref.navigation;\n  var categories = ['FAMILIE', 'SPIRITUALITATE', 'SANATATE', 'COPII'];\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      categoryIndex = _useState2[0],\n      selectCategoryIndex = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchTex = _useState4[0],\n      setSearchCriteria = _useState4[1];\n\n  var _useContext = useContext(BooksContext),\n      state = _useContext.state,\n      fetchBooks = _useContext.fetchBooks,\n      searchBook = _useContext.searchBook;\n\n  useEffect(function () {\n    var unsub = navigation.addListener('focus', function () {\n      return fetchBooks();\n    });\n    return unsub;\n  }, [navigation]);\n\n  var CategoryList = function CategoryList(_ref2) {\n    var navigation = _ref2.navigation;\n    return _jsx(View, {\n      style: styles.categoryContainer,\n      children: categories.map(function (item, index) {\n        return _jsx(TouchableOpacity, {\n          activeOpacity: 0.8,\n          onPress: function onPress() {\n            return selectCategoryIndex(index);\n          },\n          children: _jsx(Text, {\n            style: [styles.categoryText, categoryIndex == index && styles.categoryTextSelected],\n            children: item\n          })\n        }, index);\n      })\n    });\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: {\n      flex: 1,\n      paddingHorizontal: 20,\n      backgroundColor: COLORS.white\n    },\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsxs(View, {\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 25,\n            fontWeight: 'bold'\n          },\n          children: \"Bine ai venit la\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 38,\n            fontWeight: 'bold',\n            color: COLORS.purple\n          },\n          children: \"Biblioteca Gloria\"\n        })]\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.navigate('CartScreen');\n        },\n        children: _jsx(Icon, {\n          name: \"shopping-cart\",\n          size: 28\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.navigate('AccountScreen');\n        },\n        children: _jsx(FontAwesome, {\n          name: \"user-circle-o\",\n          size: 28,\n          color: \"black\"\n        })\n      })]\n    }), _jsxs(View, {\n      style: {\n        marginTop: 30,\n        flexDirection: \"row\"\n      },\n      children: [_jsxs(View, {\n        style: styles.searchContainer,\n        children: [_jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            searchBook;\n          },\n          children: _jsx(Icon, {\n            name: \"search\",\n            size: 25,\n            style: {\n              marginLeft: 20\n            }\n          })\n        }), _jsx(TextInput, {\n          value: \"searchCriteria\",\n          placeholder: \"Search\",\n          style: styles.input\n        })]\n      }), _jsx(View, {\n        style: styles.sortBtn,\n        children: _jsx(Icon, {\n          name: \"sort\",\n          size: 30,\n          color: COLORS.white\n        })\n      })]\n    }), _jsx(CategoryList, {}), _jsx(FlatList, {\n      columnWrapperStyle: {\n        justifyContent: 'space-between'\n      },\n      showVerticalScrollIndicator: false,\n      contentContainerStyle: {\n        marginTop: 10,\n        paddingBottom: 50\n      },\n      numColumns: 2,\n      data: state,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsx(Card, {\n          book: item,\n          navigation: navigation\n        });\n      }\n    })]\n  });\n};\n\nexport default withNavigation(BooksListScreen);","map":{"version":3,"names":["FontAwesome","React","useContext","useEffect","useState","SafeAreaView","Icon","TextInput","TouchableOpacity","withNavigation","Card","COLORS","Context","BooksContext","styles","width","Dimensions","get","BooksListScreen","navigation","categories","categoryIndex","selectCategoryIndex","searchTex","setSearchCriteria","state","fetchBooks","searchBook","unsub","addListener","CategoryList","categoryContainer","map","item","index","categoryText","categoryTextSelected","flex","paddingHorizontal","backgroundColor","white","header","fontSize","fontWeight","color","purple","navigate","marginTop","flexDirection","searchContainer","marginLeft","input","sortBtn","justifyContent","paddingBottom"],"sources":["E:/PROGRAMMING/REACT_NATIVE/biblioteca/src/screens/BookListScreen/BookListScreen.js"],"sourcesContent":["import { FontAwesome } from '@expo/vector-icons';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Dimensions, FlatList, Text, View } from \"react-native\";\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { Icon } from 'react-native-elements';\r\nimport { TextInput, TouchableOpacity } from 'react-native-gesture-handler';\r\nimport { withNavigation } from \"react-navigation\";\r\nimport Card from '../../components/Card/Card';\r\nimport { COLORS } from '../../consts/colors';\r\nimport { Context as BooksContext } from '../../context/BooksContext';\r\nimport styles from './styles';\r\n\r\n\r\nconst width = Dimensions.get('screen').width / 2 - 30;\r\n\r\nconst BooksListScreen = ({ navigation }) => {\r\n  const categories = ['FAMILIE', 'SPIRITUALITATE', 'SANATATE', 'COPII'];\r\n  const [categoryIndex, selectCategoryIndex] = useState(0);\r\n  const [searchTex, setSearchCriteria] = useState('');\r\n  const { state, fetchBooks, searchBook } = useContext(BooksContext);\r\n\r\n  useEffect(() => {\r\n    const unsub = navigation.addListener('focus', () => fetchBooks())\r\n    return unsub\r\n  }, [navigation])\r\n\r\n  const CategoryList = ({ navigation }) => {\r\n    return (\r\n      <View style={styles.categoryContainer}>\r\n        {categories.map((item, index) => (\r\n          <TouchableOpacity key={index} activeOpacity={0.8} onPress={() => selectCategoryIndex(index)}>\r\n            <Text style={[styles.categoryText,\r\n            categoryIndex == index && styles.categoryTextSelected]}>\r\n              {item}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        ))}\r\n      </View>\r\n    );\r\n  };\r\n  return (\r\n    <SafeAreaView\r\n      style={{\r\n        flex: 1,\r\n        paddingHorizontal: 20,\r\n        backgroundColor: COLORS.white\r\n      }}>\r\n      <View style={styles.header}>\r\n        <View>\r\n          <Text style={{ fontSize: 25, fontWeight: 'bold' }}>Bine ai venit la</Text>\r\n          <Text style={{ fontSize: 38, fontWeight: 'bold', color: COLORS.purple }}>Biblioteca Gloria</Text>\r\n        </View>\r\n        <TouchableOpacity onPress={() => { navigation.navigate('CartScreen') }}>\r\n          <Icon name=\"shopping-cart\" size={28} />\r\n        </TouchableOpacity>\r\n        <TouchableOpacity onPress={() => { navigation.navigate('AccountScreen') }}>\r\n          <FontAwesome name=\"user-circle-o\" size={28} color=\"black\" />\r\n        </TouchableOpacity>\r\n      </View>\r\n      <View style={{ marginTop: 30, flexDirection: \"row\" }}>\r\n        <View style={styles.searchContainer}>\r\n          <TouchableOpacity onPress={() => {searchBook}}>\r\n            <Icon name=\"search\" size={25} style={{ marginLeft: 20 }} />\r\n          </TouchableOpacity>\r\n          <TextInput value='searchCriteria' placeholder=\"Search\" style={styles.input} />\r\n        </View>\r\n        <View style={styles.sortBtn}>\r\n          <Icon name=\"sort\" size={30} color={COLORS.white} />\r\n        </View>\r\n      </View>\r\n      <CategoryList />\r\n      <FlatList\r\n        columnWrapperStyle={{ justifyContent: 'space-between' }}\r\n        showVerticalScrollIndicator={false}\r\n        contentContainerStyle={{\r\n          marginTop: 10,\r\n          paddingBottom: 50\r\n        }}\r\n        numColumns={2}\r\n        data={state}\r\n        renderItem={({ item }) => <Card book={item} navigation={navigation} />}\r\n      />\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default withNavigation(BooksListScreen);"],"mappings":"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"},"metadata":{},"sourceType":"module"}