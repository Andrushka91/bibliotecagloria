{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _readOnlyError from \"@babel/runtime/helpers/readOnlyError\";\nimport React, { useEffect, useContext } from 'react';\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { withNavigation } from \"react-navigation\";\nimport { Icon } from 'react-native-elements';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { TextInput, TouchableOpacity } from 'react-native-gesture-handler';\nimport { COLORS } from \"../consts/colors\";\nimport { Context as BooksContext } from \"../context/BooksContext\";\nimport Card from \"../components/Card\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar width = Dimensions.get('screen').width / 2 - 30;\n\nvar BooksListScreen = function BooksListScreen(_ref) {\n  var navigation = _ref.navigation;\n  var categories = ['FAMILIE', 'SPIRITUALITATE', 'SANATATE', 'COPII'];\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      categoryIndex = _React$useState2[0],\n      selectCategoryIndex = _React$useState2[1];\n\n  var _useContext = useContext(BooksContext),\n      bookImage = _useContext.bookImage,\n      fetchBookImage = _useContext.fetchBookImage;\n\n  var _useContext2 = useContext(BooksContext),\n      state = _useContext2.state,\n      fetchBooks = _useContext2.fetchBooks;\n\n  useEffect(function () {\n    var unsub = navigation.addListener('focus', function () {\n      return fetchBooks();\n    });\n    return unsub;\n  }, [navigation]);\n\n  var CategoryList = function CategoryList(_ref2) {\n    var navigation = _ref2.navigation;\n    return _jsx(View, {\n      style: styles.categoryContainer,\n      children: categories.map(function (item, index) {\n        return _jsx(TouchableOpacity, {\n          activeOpacity: 0.8,\n          onPress: function onPress() {\n            return selectCategoryIndex(index);\n          },\n          children: _jsx(Text, {\n            style: [styles.categoryText, categoryIndex == index && styles.categoryTextSelected],\n            children: item\n          })\n        }, index);\n      })\n    });\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: {\n      flex: 1,\n      paddingHorizontal: 20,\n      backgroundColor: COLORS.white\n    },\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsxs(View, {\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 25,\n            fontWeight: 'bold'\n          },\n          children: \"Bine ai venit la\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 38,\n            fontWeight: 'bold',\n            color: COLORS.pink\n          },\n          children: \"Biblioteca Gloria\"\n        })]\n      }), _jsx(Icon, {\n        name: \"shopping-cart\",\n        size: 28\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.navigate('AccountScreen');\n        },\n        children: _jsx(FontAwesome, {\n          name: \"user-circle-o\",\n          size: 28,\n          color: \"black\"\n        })\n      })]\n    }), _jsxs(View, {\n      style: {\n        marginTop: 30,\n        flexDirection: \"row\"\n      },\n      children: [_jsxs(View, {\n        style: styles.searchContainer,\n        children: [_jsx(Icon, {\n          name: \"search\",\n          size: 25,\n          style: {\n            marginLeft: 20\n          }\n        }), _jsx(TextInput, {\n          placeholder: \"Search\",\n          style: styles.input\n        })]\n      }), _jsx(View, {\n        style: styles.sortBtn,\n        children: _jsx(Icon, {\n          name: \"sort\",\n          size: 30,\n          color: COLORS.white\n        })\n      })]\n    }), _jsx(CategoryList, {}), _jsx(FlatList, {\n      columnWrapperStyle: {\n        justifyContent: 'space-between'\n      },\n      showVerticalScrollIndicator: false,\n      contentContainerStyle: {\n        marginTop: 10,\n        paddingBottom: 50\n      },\n      numColumns: 2,\n      data: state,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsx(Card, {\n          book: item,\n          bookImage: (function () {\n            return fetchBookImage(state.image);\n          }, _readOnlyError(\"bookImage\")),\n          navigation: navigation\n        });\n      }\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  header: {\n    marginTop: 30,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  searchContainer: {\n    height: 50,\n    backgroundColor: COLORS.light,\n    borderRadius: 10,\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  input: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: COLORS.dark,\n    flex: 1\n  },\n  sortBtn: {\n    marginLeft: 10,\n    height: 50,\n    width: 50,\n    backgroundColor: COLORS.pink,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 10\n  },\n  categoryContainer: {\n    flexDirection: 'row',\n    marginTop: 30,\n    marginBottom: 20,\n    justifyContent: 'space-between'\n  },\n  categoryText: {\n    fontSize: 16,\n    color: 'grey',\n    fontWeight: 'bold'\n  },\n  categoryTextSelected: {\n    color: COLORS.pink,\n    paddingBottom: 5,\n    borderBottomWidth: 2,\n    borderColor: COLORS.pink\n  }\n});\nexport default withNavigation(BooksListScreen);","map":{"version":3,"names":["React","useEffect","useContext","withNavigation","Icon","FontAwesome","TextInput","TouchableOpacity","COLORS","Context","BooksContext","Card","width","Dimensions","get","BooksListScreen","navigation","categories","useState","categoryIndex","selectCategoryIndex","bookImage","fetchBookImage","state","fetchBooks","unsub","addListener","CategoryList","styles","categoryContainer","map","item","index","categoryText","categoryTextSelected","flex","paddingHorizontal","backgroundColor","white","header","fontSize","fontWeight","color","pink","navigate","marginTop","flexDirection","searchContainer","marginLeft","input","sortBtn","justifyContent","paddingBottom","image","StyleSheet","create","height","light","borderRadius","alignItems","dark","marginBottom","borderBottomWidth","borderColor"],"sources":["E:/PROGRAMMING/REACT_NATIVE/biblioteca/src/screens/BookListScreen.js"],"sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport { Dimensions, SafeAreaView, StyleSheet, Text, View, FlatList, Image } from \"react-native\";\nimport { withNavigation } from \"react-navigation\";\nimport { Icon } from 'react-native-elements';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { TextInput, TouchableOpacity } from 'react-native-gesture-handler';\n\nimport { COLORS } from '../consts/colors';\nimport { Context as BooksContext } from '../context/BooksContext'\n\nimport Card from '../components/Card';\nconst width = Dimensions.get('screen').width / 2 - 30;\n\nconst BooksListScreen = ({ navigation }) => {\n  const categories = ['FAMILIE', 'SPIRITUALITATE', 'SANATATE', 'COPII'];\n  const [categoryIndex, selectCategoryIndex] = React.useState(0);\n  const { bookImage, fetchBookImage } = useContext(BooksContext);\n  const { state, fetchBooks } = useContext(BooksContext);\n\n  useEffect(() => {\n    const unsub = navigation.addListener('focus', () => fetchBooks())\n    return unsub\n  }, [navigation])\n\n  const CategoryList = ({ navigation }) => {\n    return (\n      <View style={styles.categoryContainer}>\n        {categories.map((item, index) => (\n          <TouchableOpacity key={index} activeOpacity={0.8} onPress={() => selectCategoryIndex(index)}>\n            <Text style={[styles.categoryText,\n            categoryIndex == index && styles.categoryTextSelected]}>\n              {item}\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    );\n  };\n  return (\n    <SafeAreaView\n      style={{\n        flex: 1,\n        paddingHorizontal: 20,\n        backgroundColor: COLORS.white\n      }}>\n      <View style={styles.header}>\n        <View>\n          <Text style={{ fontSize: 25, fontWeight: 'bold' }}>Bine ai venit la</Text>\n          <Text style={{ fontSize: 38, fontWeight: 'bold', color: COLORS.pink }}>Biblioteca Gloria</Text>\n        </View>\n        <Icon name=\"shopping-cart\" size={28} />\n        <TouchableOpacity onPress={() => { navigation.navigate('AccountScreen') }}>\n          <FontAwesome name=\"user-circle-o\" size={28} color=\"black\" />\n        </TouchableOpacity>\n      </View>\n      <View style={{ marginTop: 30, flexDirection: \"row\" }}>\n        <View style={styles.searchContainer}>\n          <Icon name=\"search\" size={25} style={{ marginLeft: 20 }} />\n          <TextInput placeholder=\"Search\" style={styles.input} />\n        </View>\n        <View style={styles.sortBtn}>\n          <Icon name=\"sort\" size={30} color={COLORS.white} />\n        </View>\n      </View>\n      <CategoryList />\n      <FlatList\n        columnWrapperStyle={{ justifyContent: 'space-between' }}\n        showVerticalScrollIndicator={false}\n        contentContainerStyle={{\n          marginTop: 10,\n          paddingBottom: 50\n        }}\n        numColumns={2}\n        data={state}\n        renderItem={({ item }) => <Card book={item} bookImage={bookImage = () => fetchBookImage(state.image)} navigation={navigation} />}\n      />\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  header: {\n    marginTop: 30,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  searchContainer: {\n    height: 50,\n    backgroundColor: COLORS.light,\n    borderRadius: 10,\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  input: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: COLORS.dark,\n    flex: 1\n  },\n  sortBtn: {\n    marginLeft: 10,\n    height: 50,\n    width: 50,\n    backgroundColor: COLORS.pink,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 10\n  },\n  categoryContainer: {\n    flexDirection: 'row',\n    marginTop: 30,\n    marginBottom: 20,\n    justifyContent: 'space-between'\n  },\n  categoryText: {\n    fontSize: 16,\n    color: 'grey',\n    fontWeight: 'bold'\n  },\n  categoryTextSelected: {\n    color: COLORS.pink,\n    paddingBottom: 5,\n    borderBottomWidth: 2,\n    borderColor: COLORS.pink\n  }\n});\n\nexport default withNavigation(BooksListScreen);"],"mappings":"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"},"metadata":{},"sourceType":"module"}