{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport createDataContext from \"./createDataContext\";\nimport booksApi from \"../api/books\";\n\nvar bookReducer = function bookReducer(state, action) {\n  switch (action.type) {\n    case 'fetch_books':\n      return action.payload;\n\n    case 'fetch_book_image':\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nvar fetchBooks = function fetchBooks(dispatch) {\n  return function _callee() {\n    var res;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(booksApi.get('/books'));\n\n          case 2:\n            res = _context.sent;\n            dispatch({\n              type: 'fetch_books',\n              payload: res.data\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar fetchBookImage = function fetchBookImage(dispatch) {\n  return function _callee2(imageFileName) {\n    var res;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(booksApi.get('/uploads/', {\n              imageFileName: imageFileName\n            }));\n\n          case 2:\n            res = _context2.sent;\n            dispatch({\n              type: 'fetch_book_image',\n              payload: res.data\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar addBook = function addBook(dispatch) {\n  return function _callee3(name) {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(trackerApi.post('/book', {\n              name: name\n            }));\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar _createDataContext = createDataContext(bookReducer, {\n  fetchBooks: fetchBooks,\n  fetchBookImage: fetchBookImage,\n  addBook: addBook\n}, []),\n    Provider = _createDataContext.Provider,\n    Context = _createDataContext.Context;\n\nexport { Provider, Context };","map":{"version":3,"names":["createDataContext","booksApi","bookReducer","state","action","type","payload","fetchBooks","dispatch","get","res","data","fetchBookImage","imageFileName","addBook","name","trackerApi","post","Provider","Context"],"sources":["E:/PROGRAMMING/REACT_NATIVE/biblioteca/src/context/BooksContext.js"],"sourcesContent":["import createDataContext from './createDataContext'\nimport booksApi from '../api/books'\n\nconst bookReducer = (state, action) => {\n  switch (action.type) {\n    case 'fetch_books':\n      return action.payload\n    case 'fetch_book_image':\n      return action.payload\n    default:\n      return state\n  }\n}\n\nconst fetchBooks = dispatch => async () => {\n  const res = await booksApi.get('/books')\n  dispatch({ type: 'fetch_books', payload: res.data })\n}\n\nconst fetchBookImage = dispatch => async (imageFileName) => {\n  const res = await booksApi.get('/uploads/', { imageFileName })\n  dispatch({ type: 'fetch_book_image', payload: res.data })\n}\n\nconst addBook = dispatch => async (name) => {\n  await trackerApi.post('/book', { name })\n}\n\nexport const { Provider, Context } = createDataContext(\n  bookReducer,\n  { fetchBooks, fetchBookImage, addBook },\n  []\n)"],"mappings":";AAAA,OAAOA,iBAAP;AACA,OAAOC,QAAP;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,MAAR,EAAmB;EACrC,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,aAAL;MACE,OAAOD,MAAM,CAACE,OAAd;;IACF,KAAK,kBAAL;MACE,OAAOF,MAAM,CAACE,OAAd;;IACF;MACE,OAAOH,KAAP;EANJ;AAQD,CATD;;AAWA,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAAAC,QAAQ;EAAA,OAAI;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACXP,QAAQ,CAACQ,GAAT,CAAa,QAAb,CADW;;UAAA;YACvBC,GADuB;YAE7BF,QAAQ,CAAC;cAAEH,IAAI,EAAE,aAAR;cAAuBC,OAAO,EAAEI,GAAG,CAACC;YAApC,CAAD,CAAR;;UAF6B;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAJ;AAAA,CAA3B;;AAKA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAJ,QAAQ;EAAA,OAAI,kBAAOK,aAAP;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACfZ,QAAQ,CAACQ,GAAT,CAAa,WAAb,EAA0B;cAAEI,aAAa,EAAbA;YAAF,CAA1B,CADe;;UAAA;YAC3BH,GAD2B;YAEjCF,QAAQ,CAAC;cAAEH,IAAI,EAAE,kBAAR;cAA4BC,OAAO,EAAEI,GAAG,CAACC;YAAzC,CAAD,CAAR;;UAFiC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAJ;AAAA,CAA/B;;AAKA,IAAMG,OAAO,GAAG,SAAVA,OAAU,CAAAN,QAAQ;EAAA,OAAI,kBAAOO,IAAP;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACpBC,UAAU,CAACC,IAAX,CAAgB,OAAhB,EAAyB;cAAEF,IAAI,EAAJA;YAAF,CAAzB,CADoB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAJ;AAAA,CAAxB;;AAIO,yBAA8Bf,iBAAiB,CACpDE,WADoD,EAEpD;EAAEK,UAAU,EAAVA,UAAF;EAAcK,cAAc,EAAdA,cAAd;EAA8BE,OAAO,EAAPA;AAA9B,CAFoD,EAGpD,EAHoD,CAA/C;AAAA,IAAQI,QAAR,sBAAQA,QAAR;AAAA,IAAkBC,OAAlB,sBAAkBA,OAAlB"},"metadata":{},"sourceType":"module"}